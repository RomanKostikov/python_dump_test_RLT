# Тестовое задание от RLT на позицию Python developer

<b>Стек:</b> Python, Asyncio, MongoDB, любая асинхронная библиотека для телеграм бота.

## Запуск проекта

0. Предварительно запустите docker, если работаете на windows;
1. В корневой папке проекта создать и заполнить файл .env по аналогии с .env_example;
2. Запустить проект командой 
```
docker-compose up -d
```
3. Загрузите данные в БД mongoDB(можно этот метод усовершенствовать, 
чтобы это происходило автоматически при сборке проекта):
- Копирование файла в контейнер MongoDB: Сначала вам нужно скопировать файл sample_collection.bson в контейнер, 
где работает MongoDB. Для этого используйте команду docker cp. Например:
```
docker cp sample_collection.bson CONTAINER_ID:/data/db/sample_collection.bson
```
- Запустите интерактивный терминал в контейнере MongoDB:
```
docker exec -it CONTAINER_ID bash
```
- Внутри контейнера выполните команду mongorestore с указанием пути к файлу sample_collection.bson и имени базы 
данных. Например:
```
mongorestore --db my_database /data/db/sample_collection.bson
```

## Описание задачи:
Вашей задачей в рамках этого тестового задания будет написание алгоритма агрегации 
статистических данных о зарплатах сотрудников компании по временным промежуткам.  

На обычном языке пример задачи выглядит следующим образом: “Необходимо посчитать суммы всех выплат с {28.02.2022} 
по {31.03.2022}, единица группировки - {день}”.

### Ваш алгоритм должен принимать на вход:
* Дату и время старта агрегации в ISO формате (далее dt_from)
* Дату и время окончания агрегации в ISO формате (далее dt_upto)
* Тип агрегации (далее group_type). Типы агрегации могут быть следующие: hour, day, month. То есть группировка 
* всех данных за час, день, неделю, месяц.

<b>Пример входных данных:</b>
```json
{
  "dt_from": "2022-09-01T00:00:00",
  "dt_upto": "2022-12-31T23:59:00",
  "group_type": "month"
}
```

<b>Комментарий к входным данным:</b>  
Вам необходимо агрегировать выплаты с 1 сентября 2022 года по 31 декабря 2022 года, тип агрегации по месяцу

### На выходе ваш алгоритм формирует ответ содержащий:
* Агрегированный массив данных (далее dataset)
* Подписи к значениям агрегированного массива данных в ISO формате (далее labels)

<b>Пример ответа:</b>
```json
{
  "dataset": [5906586, 5515874, 5889803, 6092634], 
  "labels": ["2022-09-01T00:00:00", "2022-10-01T00:00:00", "2022-11-01T00:00:00", "2022-12-01T00:00:00"]
}
```

<b>Комментарий к ответу:</b>  
В нулевом элементе датасета содержится сумма всех выплат за сентябрь, в первом элементе сумма всех выплат за октябрь 
и т.д. В лейблах подписи соответственно элементам датасета.